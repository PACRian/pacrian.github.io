<!DOCTYPE html>
<html data-default-lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ '/assets/css/article-style.css' | relative_url }}">
  {% include head.html %}  <!-- 包含全局样式和meta -->
  <title>{{ page.title }} - {{ site.title }}</title>
  <div class="language-switch"> 
    {% include lang-toggle.html %}  <!-- Language toggling --> 
  </div>
  
  <!-- Language Toggle Button -->
  <!-- <div class="language-switch"> -->
    <!-- Language toggle button -->
    <!-- <button 
      class="lang-toggle-btn" 
      aria-label="Toggle Language"
      data-current-lang="{{ page.lang }}">
      {% if page.lang == 'en' %}中文{% else %}English{% endif %}
    </button> -->

    <!-- Inline script to ensure translations are available -->
    <!-- <script type="application/json" id="page-translations">
    {{ page.translations | jsonify }}
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Ensure we have the translations
      const translationsScript = document.getElementById('page-translations');
      
      if (translationsScript) {
        try {
          const translations = JSON.parse(translationsScript.textContent);
          
          const langToggleBtn = document.querySelector('.lang-toggle-btn');
          
          if (langToggleBtn) {
            const currentLang = langToggleBtn.getAttribute('data-current-lang');

            langToggleBtn.addEventListener('click', function() {              
              // Find the translation for the other language
              const translation = translations.find(t => t.lang !== currentLang);
              
              if (translation) {
                // Navigate to the translated page
                window.location.href = translation.url;
              }
            });
          }
        } catch (error) {
          console.error('Error parsing translations:', error);
        }
      } else {
        console.error('Translations script not found');
      }
    });
    </script> -->


  <!-- </div> -->

</head>
<body>
  {% include navigation.html %}

  <div class="article-header">
    <h1 class="article-title">{{ page.title }}</h1>
    <div class="article-meta">
      Published on: {{ page.date | date: "%B %d, %Y" }}
      {% if page.tags.size > 0 %}
      <span class="tags">
        {% for tag in page.tags %}
        <span class="tag">{{ tag }}</span>
        {% endfor %}
      </span>
      {% endif %}
    </div>
  </div>

  <div class="article-content">
    {{ content }}
  </div>
  {% include footer.html %} <!-- 包含脚本和页脚 -->
  
  <div class="article-footer">
    <p>© {{ site.time | date: '%Y' }} {{ site.title }} • All rights reserved</p>
  </div>
  
</body>
</html>


